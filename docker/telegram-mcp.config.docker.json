{
  "server": {
    "name": "telegram-mcp",
    "version": "0.1.0",
    "transport": "http",
    "host": "0.0.0.0",
    "port": 3000
  },
  "auth": {
    "issuer": "http://keycloak:8080/realms/telegram-mcp",
    "audience": "telegram-mcp",
    "jwksUri": "http://keycloak:8080/realms/telegram-mcp/protocol/openid-connect/certs",
    "required": true
  },
  "database": {
    "url": "postgresql://telegram_mcp:telegram_mcp@postgres:5432/telegram_mcp",
    "maxConnections": 20,
    "ssl": false
  },
  "encryption": {
    "masterKeyEnv": "TELEGRAM_MCP_MASTER_KEY",
    "previousMasterKeyEnv": "TELEGRAM_MCP_PREVIOUS_MASTER_KEY"
  },
  "telegram": {
    "requestTimeoutMs": 20000,
    "maxRetries": 4,
    "baseUrl": "https://api.telegram.org",
    "updateMode": "webhook",
    "apiId": 123456,
    "apiHash": "replace-with-real-api-hash",
    "mtproto": {
      "rateLimit": 30,
      "retry": 3,
      "floodWaitPolicy": "respect"
    }
  },
  "policy": {
    "defaultEffect": "deny",
    "allowRawToolForRoles": [
      "admin",
      "owner"
    ]
  },
  "storage": {
    "s3": {
      "endpoint": "http://minio:9000",
      "region": "us-east-1",
      "bucket": "telegram-mcp-media",
      "accessKeyEnv": "TELEGRAM_MCP_S3_ACCESS_KEY",
      "secretKeyEnv": "TELEGRAM_MCP_S3_SECRET_KEY",
      "forcePathStyle": true,
      "signedUrlTtlSeconds": 900
    }
  },
  "approvals": {
    "enabled": true,
    "ttlSeconds": 900,
    "requiredRiskLevels": [
      "high",
      "critical"
    ],
    "maxPending": 1000
  },
  "retention": {
    "mode": "metadata_only",
    "contentTtlDays": 30
  },
  "observability": {
    "logLevel": "info",
    "metricsEnabled": true
  }
}
